<h1>タスク一覧</h1>
<p><%= notice %></p>

<%= form_with url: tasks_path, method: :get, local: true do |form| %>
  <%= form.label :name, "タイトル:" %>
  <%= form.text_field :name %>
  <%= form.label :condition, "状況:" %>
  <%= form.select :condition, options_for_select([[''],['未着手'],['着手中'],['完了']]) %>
  <%= form.submit value: "search", type:"submit" %>
<% end %>


<table>
 <tr>
  <th>タイトル</th>
  <th>内容</th>
  <th>締切</th>
  <th>優先順位</th>
  <th>状況</th>
 </tr>
<% @task.each do |task| %>
 <tr>
  <td><%= task.name %></td>
  <td><%= task.content %></td>
  <td class = "task_deadline"><%= task.deadline %></td>
  <td><%= task.priority %></td>
  <td class = "task_condition"><%= task.condition%> </td>
  <td><%= link_to "確認する", task_path(task.id) %></td>
  <td><%= link_to "編集する", edit_task_path(task.id)%></td>
  <td><%= link_to "削除する", task_path(task.id),method: :delete ,data: { confirm: '本当に削除していいですか？' } %></td>
 </tr>
<% end %>
</table>
  <%= paginate @tasks %>

<%= link_to '新しくタスクを書く', new_task_path %>
<br>
<%= link_to "終了期限でソートする",tasks_path(sort_expired:"true") %>
<br>
<%= link_to "優先順位でソートする",tasks_path(sort_priority:"true") %>



